# Electron Browser AI - 使用指南

## 项目概述

Electron Browser AI 是一个基于 Electron 的智能浏览器应用，能够自动分析网页内容并生成详细的使用说明。

## 主要功能

### 1. 智能页面分析
- 自动提取页面 HTML、CSS、JavaScript 代码
- 分析页面结构和元素
- 识别表单、链接、图片等交互元素

### 2. 自动截图
- 捕获完整页面截图
- 支持可视区域和全页面截图
- 为 AI 分析提供视觉上下文

### 3. AI 驱动的说明生成 (🆕 支持图片分析)
- 集成支持图片分析的豆包大模型
- **多模态分析**: 同时分析网页代码和页面截图
- **视觉识别**: 识别页面布局、按钮、交互元素
- **综合分析**: 结合代码结构和视觉效果
- 生成详细、准确的页面使用说明

### 4. 现代化界面
- 直观的用户界面
- 悬浮按钮快速操作
- 实时状态显示

## 安装和运行

### 前置要求
- Node.js (版本 16 或更高)
- npm 或 yarn
- Windows 10/11 (当前版本)

### 安装步骤

1. 克隆或下载项目
```bash
git clone <repository-url>
cd electron-browser-ai
```

2. 安装依赖
```bash
npm install
```

3. 启动应用
```bash
npm start
```

## 使用方法

### 基本操作

1. **启动应用**
   - 运行 `npm start` 启动应用
   - 应用将显示一个浏览器窗口

2. **浏览网页**
   - 在地址栏输入网址（默认为百度首页）
   - 点击"访问"按钮或按 Enter 键
   - 等待页面完全加载
   - 支持直接输入搜索关键词（将自动使用百度搜索）

3. **生成使用说明**
   - 点击右下角的悬浮按钮（🤖 生成说明）
   - 或使用快捷键 `Ctrl+G`
   - AI 将自动分析页面并生成说明

4. **查看和保存说明**
   - 在弹出的面板中查看生成的说明
   - 点击"保存"按钮保存到文件
   - 点击"复制"按钮复制到剪贴板

### 高级功能

#### AI 模型配置
1. 点击工具栏的"设置"按钮
2. 在"AI模型配置"部分：
   - **API类型**: 选择要使用的API（豆包/Ollama/OpenAI）
   - **模型服务地址**: 根据API类型自动设置
   - **API密钥**: 豆包已预配置，其他API需要输入密钥
   - **模型名称**: 选择具体的模型
   - 点击"测试连接"验证配置

#### 功能选项
- **自动截图**：是否在分析时自动截取页面截图
- **包含CSS样式**：是否在分析中包含CSS代码
- **包含JavaScript代码**：是否在分析中包含JS代码

### 调试功能
应用内置了强大的AI调试功能，帮助您监控和分析与大模型的交互过程：

1. **打开调试面板**: 点击工具栏的"🔍 调试"按钮
2. **监控请求/响应**: 实时查看发送给AI的数据和返回结果
3. **查看详细日志**: 跟踪整个处理过程的详细步骤
4. **性能统计**: 监控响应时间、数据大小等关键指标
5. **错误诊断**: 快速定位和解决问题
6. **数据导出**: 导出调试数据用于分析

详细使用方法请参考 `DEBUG_FEATURE_GUIDE.md`

### 快捷键

- `Ctrl+R` - 刷新页面
- `Ctrl+L` - 聚焦地址栏
- `Ctrl+G` - 生成页面说明
- `Ctrl+,` - 打开设置
- `F1` - 显示帮助
- `Esc` - 关闭当前面板

## AI 模型支持

### 豆包 (推荐，已预配置)
应用已预配置豆包图片分析API，可直接使用：
- **API地址**: `https://ark.cn-beijing.volces.com/api/v3`
- **模型**: `doubao-seed-1-6-250615` (支持图片分析)
- **API密钥**: 已预设，无需额外配置
- **特殊功能**: 同时分析网页代码和页面截图
- **使用方法**: 启动应用后直接点击"测试连接"即可

### Ollama (本地部署)
1. 安装 Ollama：https://ollama.ai/
2. 下载模型：`ollama pull llama2`
3. 启动服务：`ollama serve`
4. 在应用设置中选择"Ollama"并配置地址：`http://localhost:11434`

### OpenAI
1. 获取 OpenAI API 密钥
2. 在应用设置中选择"OpenAI"
3. 配置API地址：`https://api.openai.com/v1`
4. 输入您的API密钥

## 故障排除

### 常见问题

1. **应用无法启动**
   - 确保 Node.js 版本正确
   - 删除 `node_modules` 文件夹并重新运行 `npm install`

2. **AI 连接失败**
   - 检查 AI 服务是否正在运行
   - 验证服务地址和端口
   - 检查防火墙设置

3. **页面加载失败**
   - 检查网络连接
   - 确认网址格式正确
   - 尝试刷新页面
   - 默认页面已设置为百度，应该能正常加载

4. **截图功能异常**
   - 等待页面完全加载后再尝试
   - 检查页面是否有权限限制

5. **WebView 相关问题**
   - 应用已修复 WebView 兼容性问题
   - 支持现代网站的正常加载和交互

### 性能优化

1. **减少内存使用**
   - 关闭不需要的功能选项
   - 定期重启应用

2. **提高分析速度**
   - 使用本地 AI 模型
   - 减少页面内容复杂度

## 开发和扩展

### 项目结构
```
electron-browser-ai/
├── main/                # 主进程代码
│   ├── main.js          # Electron 入口
│   ├── preload.js       # 预加载脚本
│   ├── model-api.js     # AI 模型接口
│   └── mcp.js           # Windows 自动化
├── renderer/            # 渲染进程代码
│   ├── index.html       # 主页面
│   ├── index.js         # 主逻辑
│   ├── styles.css       # 样式文件
│   ├── floating-button/ # 悬浮按钮
│   └── utils/           # 工具模块
└── package.json         # 项目配置
```

### 自定义开发
1. 修改 `renderer/` 目录下的文件来自定义界面
2. 在 `main/model-api.js` 中添加新的 AI 模型支持
3. 扩展 `renderer/utils/` 中的工具模块

## 许可证

MIT License

## 支持和反馈

如有问题或建议，请通过以下方式联系：
- 创建 GitHub Issue
- 发送邮件至开发团队

---

**注意**：此应用目前处于开发阶段，某些功能可能不稳定。建议在测试环境中使用。
